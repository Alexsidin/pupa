<ng-container
  *ngIf="destroyable; else buttonGroupContent"
  [ngTemplateOutlet]="activeTemplateRef$ | async"
></ng-container>

<ng-content></ng-content>

<ng-template #buttonGroupContent>
  <div
    *ngFor="let buttonTemplate of nonDestroyableTemplateRefs$ | async; trackBy: tabTrackBy"
    class="pupa-button-group"
    [class.pupa-button-group_visible]="buttonTemplate.isActive"
  >
    <ng-container [ngTemplateOutlet]="buttonTemplate.templateRef"></ng-container>
  </div>
</ng-template>
