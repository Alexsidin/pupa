@use 'functions' as *;
@use 'mixins' as *;
@use 'variables' as *;

$pointer_height: 9px;
$pointer-width: 14px;

.popover-layout {
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border: 1px solid color(base-white-n400);
  border-radius: 1rem 1rem 0 0;
  background: color(neutral-1);

  @include xs {
    height: 100%;
    width: 100%;
  }

  @include host-selector-dark-theme {
    background: color(base-dark-n500);
    border-color: color(base-dark-n400);
    color: color(neutral-1);
  }

  @include host-selector('.pointer__top-left, .pointer__top-right') {
    margin-top: $pointer_height;
  }

  @include host-selector('.pointer__bottom-left, .pointer__bottom-right') {
    margin-bottom: $pointer_height;
  }
}

.popover-pointer {
  position: absolute;
  fill: color(neutral-1);

  &__line {
    stroke: color(base-white-n400);
    @include host-selector-dark-theme {
      stroke: color(base-dark-n400);
    }
  }

  @include host-selector('.popover__mobile') {
    display: none;
  }

  @include host-selector-dark-theme {
    fill: color(base-dark-n500);
  }

  @include host-selector('.pointer__top-left') {
    top: -$pointer_height;
    left: $pointer-width;
  }
  @include host-selector('.pointer__top-right') {
    top: -$pointer_height;
    right: $pointer-width;
  }
  @include host-selector('.pointer__bottom-left') {
    bottom: 0;
    left: $pointer-width;
    transform: rotate(180deg);
  }

  @include host-selector('.pointer__bottom-right') {
    bottom: 0;
    right: $pointer-width;
    transform: rotate(180deg);
  }
}
