<div class="accordion" [ngClass]="accordionClass$ | async" [class.accordion_expanded]="expanded$ | async">
  <div class="accordion-header" [class.accordion-header_expanded]="expanded$ | async" (click)="toggle()">
    <div class="accordion-header__content" [class.accordion-header__content_with-arrow]="showArrow">
      <ng-content></ng-content>
    </div>

    <ng-container *ngIf="showArrow">
      <div class="arrow-container">
        <pupa-icon name="app-chevron-down" [@arrowRotated]="animationState$ | async"></pupa-icon>
      </div>
    </ng-container>
  </div>

  <ng-container *ngIf="!destroyable || (expanded$ | async)">
    <div class="accordion-body" [@accordionExpanded]="animationState$ | async">
      <ng-content select="pupa-accordion-body"></ng-content>
    </div>
  </ng-container>
</div>
