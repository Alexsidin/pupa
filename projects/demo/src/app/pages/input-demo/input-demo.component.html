<h1>Input</h1>

<demo-page>
  <div *demoPageTab="'overview'" class="overview">
    <p>Represents a family of configurable input elements of the following types:</p>
    <ul>
      <li>
        <pupa-code-inline>pupa-input-text</pupa-code-inline>
        - plain text input.
      </li>
      <li>
        <pupa-code-inline>pupa-input-number</pupa-code-inline>
        - number input.
      </li>
      <li>
        <pupa-code-inline>pupa-input-password</pupa-code-inline>
        - password input.
      </li>
      <li>
        <pupa-code-inline>pupa-input-date</pupa-code-inline>
        - date input. Provides an ability to enter date manually as well as via droppable calendar.
      </li>
      <li>
        <pupa-code-inline>pupa-input-date-range</pupa-code-inline>
        - date range input. Allows to enter dates manually or via droppable calendar.
      </li>
      <li>
        <pupa-code-inline>pupa-input-date-range-double</pupa-code-inline>
        - date range input. Allows to enter dates manually or by picking in two different droppable calendars.
      </li>
      <li>
        <pupa-code-inline>pupa-input-date-time</pupa-code-inline>
        - Detailed date input. Allows to enter date and time in
        <pupa-code-inline>hh:mm</pupa-code-inline>
        format.
      </li>
      <li>
        <pupa-code-inline>pupa-input-date-time-seconds</pupa-code-inline>
        - Detailed date input. Allows to enter date and time in
        <pupa-code-inline>hh:mm:ss</pupa-code-inline>
        format.
      </li>
      <li>
        <pupa-code-inline>pupa-input-time</pupa-code-inline>
        - time input in
        <pupa-code-inline>hh:mm</pupa-code-inline>
        format.
      </li>
    </ul>

    <h3 demoAnchor>All inputs & Validation</h3>
    <pupa-code-container [content]="allInputsExampleContent">
      <demo-input-demo-example-all-inputs *pupaCodeContainerPreviewTemplate></demo-input-demo-example-all-inputs>
    </pupa-code-container>

    <h3 demoAnchor>Input size</h3>
    <pupa-code-container [content]="sizeExampleContent">
      <demo-input-demo-example-size *pupaCodeContainerPreviewTemplate></demo-input-demo-example-size>
    </pupa-code-container>

    <h3 demoAnchor>Patched input</h3>
    <pupa-code-container [content]="isPatchedExampleContent">
      <demo-input-demo-example-is-patched *pupaCodeContainerPreviewTemplate></demo-input-demo-example-is-patched>
    </pupa-code-container>

    <h3 demoAnchor>Invalid tooltip</h3>
    <pupa-callout variant="info">Displayed when hovering over the icon in the input field.</pupa-callout>
    <pupa-code-container [content]="tooltipExampleContent">
      <demo-input-demo-example-tooltip *pupaCodeContainerPreviewTemplate></demo-input-demo-example-tooltip>
    </pupa-code-container>

    <h3 demoAnchor>With reset</h3>
    <pupa-callout variant="info">
      Available only for pupa-input-text, pupa-input-number and pupa-input-time
    </pupa-callout>
    <pupa-code-container [content]="withResetExampleContent">
      <demo-input-demo-example-with-reset *pupaCodeContainerPreviewTemplate></demo-input-demo-example-with-reset>
    </pupa-code-container>

    <h3 demoAnchor>Input styles</h3>
    <pupa-code-container [content]="stylesExampleContent">
      <demo-input-demo-example-styles *pupaCodeContainerPreviewTemplate></demo-input-demo-example-styles>
    </pupa-code-container>

    <h3 demoAnchor>Input styles</h3>
    You can use the directives <pupa-code-inline>*pupaInputActionsLeft</pupa-code-inline> and
    <pupa-code-inline>*pupaInputActionsRight</pupa-code-inline> for adding any action in both side of element. Available
    only for pupa-input-text and pupa-input-number
    <pupa-code-container [content]="stylesExampleContent">
      <demo-input-demo-example-action *pupaCodeContainerPreviewTemplate></demo-input-demo-example-action>
    </pupa-code-container>
  </div>

  <div *demoPageTab="'api'">
    <demo-example-viewer>
      <demo-example-viewer-content>
        <div
          class="controls-list"
          *pupaLet="
            {
              withReset: withReset$ | async,
              isPatched: isPatched$ | async,
              invalidTooltipHideOnHover: invalidTooltipHideOnHover$ | async,
              invalidTooltipDisabled: invalidTooltipDisabled$ | async,
              size: size$ | async,
              styles: styles$ | async,
              isFixedSize: isFixedSize$ | async,
              isBackDating: isBackDating$ | async
            };
            let withReset = withReset;
            let isPatched = isPatched;
            let invalidTooltipHideOnHover = invalidTooltipHideOnHover;
            let invalidTooltipDisabled = invalidTooltipDisabled;
            let size = size;
            let styles = styles;
            let isFixedSize = isFixedSize;
            let isBackDating = isBackDating
          "
        >
          <div class="controls-list__block">
            <pupa-label class="control-label" [disabled]="textControl.disabled">pupa-input-text</pupa-label>
            <pupa-input-text
              class="form__control"
              [formControl]="textControl"
              [size]="size"
              [withReset]="withReset"
              [isPatched]="isPatched"
              [placeholder]="placeholderFormControl.value"
              [invalidTooltipContentTemplate]="(isInvalidTooltipContentTemplateEnabled$ | async) && errorTemplate"
              [invalidTooltipHideOnHover]="invalidTooltipHideOnHover"
              [invalidTooltipDisabled]="invalidTooltipDisabled"
              [invalidTooltip]="tooltipTextFormControl.value"
              [customStyles]="styles"
            ></pupa-input-text>
          </div>

          <div class="controls-list__block">
            <pupa-label class="control-label" [disabled]="timeFormControl.disabled">pupa-input-time</pupa-label>
            <pupa-input-time
              class="form__control form__control_date"
              [formControl]="timeFormControl"
              [size]="size"
              [withReset]="withReset"
              [isPatched]="isPatched"
              [invalidTooltipHideOnHover]="invalidTooltipHideOnHover"
              [invalidTooltipContentTemplate]="(isInvalidTooltipContentTemplateEnabled$ | async) && errorTemplate"
              [invalidTooltipDisabled]="invalidTooltipDisabled"
              [invalidTooltip]="tooltipTextFormControl.value"
              [customStyles]="styles"
            ></pupa-input-time>
          </div>

          <div class="controls-list__block">
            <pupa-label class="control-label" [disabled]="dateFormControl.disabled">pupa-input-date</pupa-label>
            <pupa-input-date
              class="form__control form__control_date"
              [formControl]="dateFormControl"
              [size]="size"
              [withReset]="withReset"
              [isPatched]="isPatched"
              [invalidTooltipHideOnHover]="invalidTooltipHideOnHover"
              [invalidTooltipContentTemplate]="(isInvalidTooltipContentTemplateEnabled$ | async) && errorTemplate"
              [invalidTooltipDisabled]="invalidTooltipDisabled"
              [invalidTooltip]="tooltipTextFormControl.value"
              [availableEndDate]="endDateFormControl.value"
              [availableStartDate]="startDateFormControl.value"
              [isFixedSize]="isFixedSize"
              [isBackDating]="isBackDating"
              [customStyles]="styles"
            ></pupa-input-date>
          </div>
        </div>
      </demo-example-viewer-content>

      <demo-example-viewer-section-label>Configuration</demo-example-viewer-section-label>
      <demo-example-viewer-section>
        <demo-example-viewer-config-item name="Set form control to disabled state">
          <demo-props-form-control-disabled [control]="isDisabledControl"></demo-props-form-control-disabled>
          <ng-container *demoExampleViewerConfigItemDescription>
            Use
            <pupa-code-inline>formControl.disable()</pupa-code-inline>
          </ng-container>
        </demo-example-viewer-config-item>

        <demo-example-viewer-config-item name="Set form control validators">
          <ng-container *demoExampleViewerConfigItemDescription>
            Use
            <pupa-code-inline>formControl.setValidators()</pupa-code-inline>
          </ng-container>
          <demo-props-form-control-validators
            [controlsList]="[textControl]"
            [validators]="validators"
            [initialValue]="true"
          ></demo-props-form-control-validators>
        </demo-example-viewer-config-item>

        <demo-example-viewer-config-item name="Set date form control validators">
          <ng-container *demoExampleViewerConfigItemDescription>
            Use
            <pupa-code-inline>formControl.setValidators()</pupa-code-inline>
          </ng-container>
          <demo-props-form-control-validators
            [controlsList]="[timeFormControl, dateFormControl]"
            [validators]="dateValidators"
            [initialValue]="true"
          ></demo-props-form-control-validators>
        </demo-example-viewer-config-item>
      </demo-example-viewer-section>

      <demo-example-viewer-section-label>Common input properties</demo-example-viewer-section-label>
      <demo-example-viewer-section>
        <demo-example-viewer-property decoratorName="input" name="size" type="InputSize">
          <ng-container *demoExampleViewerPropertyDescription> Adjusts the size of the element.</ng-container>
          <demo-props-radio-select #size$ [options]="sizeOptions"></demo-props-radio-select>
        </demo-example-viewer-property>

        <demo-example-viewer-property decoratorName="input" name="placeholder" type="string">
          <ng-container *demoExampleViewerPropertyDescription>The placeholder of the element.</ng-container>
          <pupa-input-text [formControl]="placeholderFormControl" [withReset]="true"></pupa-input-text>
        </demo-example-viewer-property>

        <demo-example-viewer-property decoratorName="input" name="withReset" type="boolean">
          <ng-container *demoExampleViewerPropertyDescription>Whether the element is resettable.</ng-container>
          <demo-props-switcher #withReset$></demo-props-switcher>
        </demo-example-viewer-property>

        <demo-example-viewer-property decoratorName="input" name="isPatched" type="boolean">
          <ng-container *demoExampleViewerPropertyDescription>Whether the element is patched.</ng-container>
          <demo-props-switcher #isPatched$></demo-props-switcher>
        </demo-example-viewer-property>

        <demo-example-viewer-section-label size="medium">
          <pupa-code-inline>invalidTooltip*</pupa-code-inline>
          properties are written by analogy with a
          <pupa-code-inline>TooltipDirective</pupa-code-inline>
        </demo-example-viewer-section-label>
        <pupa-callout>
          <ul>
            <li>
              The tooltip is only visible when input is in INVALID state. To trigger invalid state use
              <pupa-code-inline>setValidators</pupa-code-inline>
              or
              <pupa-code-inline>isPatched</pupa-code-inline>
              switchers.
            </li>
            <li>
              Please note that only one tooltip input value can be applied at the time -
              <pupa-code-inline>invalidTooltip</pupa-code-inline>
              or
              <pupa-code-inline>invalidTooltipContentTemplate</pupa-code-inline>
              . If you submit simple content and a template to the directive at the same time, the display will take
              precedence over the template. Please use switcher to disable
              <pupa-code-inline>invalidTooltipContentTemplate</pupa-code-inline>
              before entering simple tooltip text.
            </li>
          </ul>
        </pupa-callout>

        <demo-example-viewer-property decoratorName="input" name="invalidTooltip" type="string">
          <ng-container *demoExampleViewerPropertyDescription>Invalid tooltip simple content.</ng-container>
          <pupa-input-text
            placeholder="Type tooltip text here"
            [formControl]="tooltipTextFormControl"
            [withReset]="true"
          >
          </pupa-input-text>
        </demo-example-viewer-property>

        <demo-example-viewer-property decoratorName="input" name="invalidTooltipContentTemplate" type="TemplateRef">
          <ng-container *demoExampleViewerPropertyDescription>Invalid tooltip content template.</ng-container>
          <pupa-textarea [formControl]="tooltipTemplateFormControl"></pupa-textarea>
          <br />
          <demo-props-switcher #isInvalidTooltipContentTemplateEnabled$ [initialValue]="true"></demo-props-switcher>
        </demo-example-viewer-property>

        <demo-example-viewer-property decoratorName="input" name="tooltipHideOnHover" type="boolean">
          <ng-container *demoExampleViewerPropertyDescription>Hide on invalid tooltip hover.</ng-container>
          <demo-props-switcher #invalidTooltipHideOnHover$></demo-props-switcher>
        </demo-example-viewer-property>

        <demo-example-viewer-property decoratorName="input" name="tooltipDisabled" type="boolean">
          <ng-container *demoExampleViewerPropertyDescription>Whether the invalid tooltip is disabled.</ng-container>
          <demo-props-switcher #invalidTooltipDisabled$></demo-props-switcher>
        </demo-example-viewer-property>

        <demo-example-viewer-property decoratorName="input" name="customStyles" type="InputStyleCustomization[]">
          <ng-container *demoExampleViewerPropertyDescription>
            Different input styles (Is not applicable for date inputs).
          </ng-container>
          <demo-props-select #styles$ [options]="styleOptions" [isMultiSelectionEnabled]="true"></demo-props-select>
        </demo-example-viewer-property>
      </demo-example-viewer-section>

      <demo-example-viewer-section-label>Date inputs specific properties</demo-example-viewer-section-label>
      <demo-example-viewer-property decoratorName="input" name="isFixedSize" type="boolean">
        <ng-container *demoExampleViewerPropertyDescription>Whether the input has a fixed size.</ng-container>
        <demo-props-switcher #isFixedSize$ [initialValue]="true"></demo-props-switcher>
      </demo-example-viewer-property>

      <demo-example-viewer-property decoratorName="input" name="isBackDating" type="boolean">
        <ng-container *demoExampleViewerPropertyDescription>Whether the backdating is available.</ng-container>
        <demo-props-switcher #isBackDating$ [initialValue]="true"></demo-props-switcher>
      </demo-example-viewer-property>

      <demo-example-viewer-property decoratorName="input" name="availableEndDate" type="Date | number">
        <ng-container *demoExampleViewerPropertyDescription>Max end date available for picking.</ng-container>
        <pupa-input-date [formControl]="endDateFormControl" [withReset]="true"></pupa-input-date>
      </demo-example-viewer-property>

      <demo-example-viewer-property decoratorName="input" name="availableStartDate" type="Date | number">
        <ng-container *demoExampleViewerPropertyDescription>Min start date available for picking.</ng-container>
        <pupa-input-date [formControl]="startDateFormControl" [withReset]="true"></pupa-input-date>
      </demo-example-viewer-property>
    </demo-example-viewer>
  </div>
</demo-page>

<ng-template #errorTemplate>
  <div [innerHTML]="tooltipTemplateFormControl.value"></div>
</ng-template>
