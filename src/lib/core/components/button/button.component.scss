@import 'variables';
@import 'mixins';
@import 'functions';

.button {
  box-sizing: border-box;
  font-family: 'effra';
  cursor: pointer;
  padding: 0;
  outline: none;
  @include transition(#{'background, border, box-shadow, padding'});
  @include inline-flex-container(row, center, space-evenly, nowrap);

  &_with-loader:not(:disabled) {
    .button__icon.button__icon_right {
      display: none;
    }
  }
}

.button__text {
  user-select: none;
  order: 0;
}

.button__icon {
  user-select: none;
  &_left {
    order: -1;
    padding: 0 rems(0.5) 0 0;
  }
  &_right {
    order: 1;
    padding: 0 0 0 rems(0.5);
  }
}

.button__loader {
  &_disabled {
    width: 0 !important;
    margin: 0 !important;
    overflow: hidden;
  }
  margin: 0 0 0 rems(0.5);
}

// size
.button_large {
  min-width: rems(7);
  height: rems(2.5);
  border-radius: rems(1);
  padding: rems(0.625) rems(1);
  .button__text {
    font-size: rems(1);
    font-weight: 500;
    line-height: 1;
  }
  .button__icon {
    @include icon-size(rems(1));
  }
  .button__loader {
    @include icon-size(rems(1));
  }
}
// .button_large.button_with-loader {
//   padding: rems(0.625) rems(0.5);
// }

.button_medium {
  min-width: rems(7);
  height: rems(2);
  border-radius: rems(0.875);
  padding: rems(0.375) rems(0.5);
  .button__text {
    font-size: rems(1);
    font-weight: 500;
    line-height: 1;
  }
  .button__icon {
    @include icon-size(rems(1));
  }
  .button__loader {
    @include icon-size(rems(1));
  }
}

.button_small {
  min-width: rems(4);
  height: rems(1.5);
  border-radius: rems(0.5);
  padding: rems(0.1875) rems(0.625);
  .button__text {
    font-size: $font-size_base-text;
    font-weight: normal;
    line-height: 1.14;
  }
  .button__icon {
    @include icon-size($font-size_base-text);
  }
  .button__loader {
    @include icon-size($font-size_base-text);
  }
}

@mixin button-color($background-color, $color, $border-color: none) {
  @if $border-color == 'none' {
    border: rems(0.0625) solid #{$background-color};
  } @else {
    border: rems(0.0625) solid #{$border-color};
  }
  background: $background-color;
  .button__icon,
  .button__text,
  .button__loader {
    color: $color;
  }
}

// style + color
.button_solid.button_normal {
  @include button-color($color_main-blue, $color_white);
  &:focus,
  &:hover {
    @include button-color($color_active-blue, $color_white);
    box-shadow: $box-shadow_hover;
  }
}
.button_solid.button_negative {
  @include button-color($color_error, $color_white);
  &:focus,
  &:hover {
    box-shadow: $box-shadow_hover;
  }
}
.button_solid.button_positive {
  @include button-color($color_success, $color_white);
  &:focus,
  &:hover {
    box-shadow: $box-shadow_hover;
  }
}
.button_solid.button_alert {
  @include button-color($color_alert, $color_white);
  &:focus,
  &:hover {
    box-shadow: $box-shadow_hover;
  }
}

.button_outlined.button_normal {
  @include button-color($color_white, $color_main-blue, $color_main-blue);
  &:focus,
  &:hover {
    @include button-color($color_white, $color_active-blue, $color_active-blue);
  }
}
.button_outlined.button_negative {
  @include button-color($color_white, $color_grey-text, $color_error);
  &:focus,
  &:hover {
    @include button-color(rgba($color_error, $opacity_hovered-button), $color_grey-text, $color_error);
  }
}
.button_outlined.button_positive {
  @include button-color($color_white, $color_grey-text, $color_success);
  &:focus,
  &:hover {
    @include button-color(rgba($color_success, $opacity_hovered-button), $color_grey-text, $color_success);
  }
}
.button_outlined.button_alert {
  @include button-color($color_white, $color_grey-text, $color_alert);
  &:focus,
  &:hover {
    @include button-color(rgba($color_alert, $opacity_hovered-button), $color_grey-text, $color_alert);
  }
}

.button_link {
  @include button-color($color_white, $color_main-blue);
  &:focus,
  &:hover {
    @include button-color($color_white, $color_active-blue);
  }
}

// style + disabled
.button_solid:disabled,
.button_solid:disabled:hover {
  @include button-color($color_grey-ivory, $color_white);
  box-shadow: unset;
  cursor: not-allowed;
}

.button_outlined:disabled,
.button_outlined:disabled:hover {
  @include button-color($color_white, $color_grey-ivory, $color_grey-ivory);
  box-shadow: unset;
  cursor: not-allowed;
}
