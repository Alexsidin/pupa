<pupa-droppable #droppable [hasBackdrop]="hasBackdrop" [offsetYPx]="4" [widthType]="dropdownWidthType">
  <pupa-droppable-trigger>
    <div class="pupa-select" [class.disabled]="disabled" [id]="id">
      <div
        class="selected-value"
        [title]="
          getCaption($any(selectedItem))?.length > 20 ? (selectedItem ? getCaption($any(selectedItem)) : '') : ''
        "
      >
        <ion-icon
          class="pupa-dropdown__icon pupa-dropdown__icon_left"
          *ngIf="$any(selectedItem)?.iconLeft"
          [name]="$any(selectedItem).iconLeft.name"
          [src]="$any(selectedItem).iconLeft.src"
          [style.color]="$any(selectedItem).iconLeft.color"
        ></ion-icon>

        {{ getCaption($any(selectedItem)) }}

        <ion-icon
          class="pupa-dropdown__icon pupa-dropdown__icon_right"
          *ngIf="$any(selectedItem)?.iconRight"
          [name]="$any(selectedItem).iconRight.name"
          [src]="$any(selectedItem).iconRight.src"
          [style.color]="$any(selectedItem).iconRight.color"
        ></ion-icon>
      </div>
      <div class="arrow">
        <ion-icon name="ios-arrow-down" *ngIf="!disabled"></ion-icon>
      </div>
    </div>
  </pupa-droppable-trigger>

  <pupa-droppable-content>
    <pupa-dropdown
      [items]="items"
      (select)="writeValue($event); droppable.close()"
      [captionPropertyPath]="captionPropertyPath"
      *ngIf="!disabled"
    ></pupa-dropdown>
  </pupa-droppable-content>
</pupa-droppable>
