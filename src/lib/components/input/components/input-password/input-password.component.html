<input
  class="input"
  [ngClass]="resultClassList$ | async"
  [type]="typeIsText$ | conditionAsync: 'text':'password'"
  #inputElement
  [placeholder]="placeholder"
  [style.paddingRight.px]="rightPaddingPx$ | async"
  [attr.disabled]="(isDisabled$ | async) ? true : null"
  (input)="updateValue(inputElement.value)"
  (focus)="emitFocusEvent($event)"
  (blur)="emitBlurEvent($event)"
  [autocomplete]="autocomplete ? 'on' : 'new-password'"
  [value]="value$ | async"
/>

<div class="input__icons-list" tabindex="-1" [ngClass]="size$ | async">
  <pupa-button-icon
    *ngIf="!(isDisabled$ | async)"
    class="input__icon input__icon-password"
    [icon]="typeIsText$ | conditionAsync: 'app-eye-off':'app-eye-on'"
    kind="subtle"
    size="small"
    tabIndex="-1"
    (click)="togglePassword()"
  >
  </pupa-button-icon>

  <pupa-button-icon
    *ngIf="isInvalid$ | async"
    class="input__icon input__icon-invalid"
    icon="app-info"
    kind="danger-subtle"
    size="small"
    tabIndex="-1"
    [pupaTooltip]="invalidTooltip"
    [tooltipHideOnHover]="invalidTooltipHideOnHover"
    [tooltipDisabled]="!invalidTooltip && !invalidTooltipContentTemplate ? true : invalidTooltipDisabled"
    [tooltipContentTemplate]="invalidTooltipContentTemplate"
    (click)="inputElement.focus()"
  >
  </pupa-button-icon>
</div>
